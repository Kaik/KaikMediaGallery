{{ pageAddAsset('stylesheet', zasset('@KaikmediaGalleryModule:css/gallery.tiles.css')) }}
<div class="kmgallery-style-tiles">
    {% if items|length > 0 %}
        <div class="row">
            <div class="col-xs-12">
                <div class="heading">
                    <h4><span class="fa fa-th"></span> {{ __('Tiles')}}</h4>
                </div>
                <div class="kmgallery-style-tiles-container">
                    {% for mediaRelation in items %}
                        {% set idPrefix=areaName|replace({'.': '_'}) ~ '_' ~ hookedModule ~ '_' ~ hookedAreaId|replace({'.': '_'}) ~ '_' ~ mediaRelation.feature ~ '_' ~ hookedObjectId  %}
                        {% set lastMediaHandler=mediaRelation.getLastMediaHandler()|default('image') %}
                        <div class="tile">
                            {% set presets = {'mediaExtra':mediaRelation.mediaExtra, 'relationExtra': mediaRelation.relationExtra, 'settings': settings } %}
                            {% if handlers[lastMediaHandler] is defined %}
                                {{ handlers[lastMediaHandler].getPreviewForDisplay(mediaRelation.media, presets)|raw }}
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>          
    {% endif %}
</div>