{% block _settings_hooks_widget %}
    {% spaceless %}
        {% for child in form %}
            <div class="col-md-12">
                {{ form_widget(child) }}
            </div>
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_entry_widget %}
    {% spaceless %}
        <fieldset>
            <legend>{{ value.title }}</legend>
            <div class="panel panel-default">
                <div class="panel-heading">
                    {{ __('Global provider settings') }}
                    <a class="pull-right" role="button" data-toggle="collapse" href="#global_{{ value.baseName|lower }}" aria-expanded="false" aria-controls="global_{{ value.baseName|lower }}">
                        <i class="fa fa-cog"> </i>
                    </a>
                </div>
                <div class="list-group collapse" id="global_{{ value.baseName|lower }}">
                    {% for name, child in form %}
                        {% if name == 'modules' %}
                        {% else %}
                            <div class="list-group-item list-group-item-warning">
                                {{ form_row(child, {'attr': {'class': 'input-sm' }, 'label_attr': {'class': 'input-sm'}}) }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% if form.children.modules is defined %}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        {{ __('Modules')  }}
                        <a class="pull-right" role="button" data-toggle="collapse" href="#modules_{{ value.baseName|lower }}" aria-expanded="false" aria-controls="modules_{{ value.baseName|lower }}">
                            <i class="fa fa-cog"> </i>
                        </a>
                    </div>
                    <div class="list-group collapse" id="modules_{{ value.baseName|lower }}">
                        {{ form_widget(form.children.modules) }}
                    </div>
                </div>
            {% else %}
            {% endif %}
        </fieldset>
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_entry_modules_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_entry_modules_entry_widget %}
    {% spaceless %}
        <div class="list-group-item {% if value.enabled %}list-group-item-success{% else %}list-group-item-warning{% endif %} clearfix">
            <span>{{ value.name }}</span>
            {% if form.children.enabled is defined %}
                <div class="pull-right text-right">
                    {{ form_widget(form.children.enabled, {'attr': {'class': 'btn btn-success radio-inline btn-xs' }}) }}
                </div>
            {% else %}
            {% endif %}
        </div>
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_entry_modules_entry_areas_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}


{% block _settings_hooks_providers_entry_modules_entry_areas_entry_widget %}
    {% spaceless %}
        {% set binding_id = 'area' ~ random() %}
        <div class="list-group-item {% if value.enabled %}list-group-item-success{% else %}list-group-item-default{% endif %} clearfix">
            <span class="text-info small">{{ __('Area:') }} <strong>{{ value.subscriber }}</strong></span>
            <div class="pull-right text-right">
                {% if form.children.enabled is defined %}
                    {{ form_widget(form.children.enabled, {'attr': {'class': 'btn btn-primary radio-inline btn-xs' }}) }}
                {% else %}
                {% endif %}
            </div>
            <a class="btn btn-xs pull-right" role="button" data-toggle="collapse" href="#{{ binding_id }}" aria-expanded="false" aria-controls="{{ binding_id }}">
                <i class="fa fa-cog"> </i>
            </a>
            <div id="{{ binding_id }}" class="col-md-12 collapse clearfix">
                <h5>{{ __('Settings for this area') }}</h5>
                {% for child in form %}
                    {{ form_widget(child) }}
                {% endfor %}
{#                {{ dump(form) }}#}
            </div>
        </div>
        
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_providers_entry_modules_entry_areas_entry_entry_widget %}
    {% spaceless %}
        {% set collection_id = 'collection' ~ random() %}
        <div class="box box-default">
            <div class="box-header with-border">
                <h4 class="box-title">{{ __('Features') }}</h4>
                <div class="row text-uppercase small" style="margin-left: -10px; margin-right:-10px;">
                    <div class="col-md-1" >
                        {{ __('Internal name') }}
                    </div>
                    <div class="col-md-2" >
                        {{ __('Display title') }}
                    </div>
                    <div class="col-md-2">
                        {{ __('Allowed mime types') }}
                    </div>
                    <div class="col-md-1">
                        {{ __('Prefix') }}
                    </div>
                    <div class="col-md-1">
                        {{ __('SubDir') }}
                    </div>
                    <div class="col-md-1">
                        {{ __('Max size MB') }}
                    </div>
                    <div class="col-md-1">
                        {{ __('Add title') }}
                    </div>
                    <div class="col-md-1">
                        {{ __('Add legal') }}
                    </div>
                    <div class="col-md-2 pull-right">
                        {{ __('Options') }}
                    </div>
                </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div id="{{ collection_id }}"
                    class="features-selector {{ collection_id }}"
                    style="margin-top:-10px;margin-bottom: 0px;"
                    data-allow-remove="1"
                    data-allow-add="1"
                    data-coll="{{ collection_id }}"
                    data-prototype-name="{{ form.features.vars.prototype.vars.name }}"
                    data-name-prefix="{{ form.features.vars.full_name }}"
                    data-prototype="
                    {% filter escape %}
                        {{ include('@KaikmediaGalleryModule/Form/feature.prototype.html.twig', { 'feature': form.features.vars.prototype }) }}
                    {% endfilter %}
                    "
                    >
                    {% for feature in form.features %}
                        {{ include('@KaikmediaGalleryModule/Form/feature.prototype.html.twig', { 'feature': feature }) }}
                    {% endfor %}
                    {% do form.features.setRendered %}
                </div>
            </div>
            <div class="box-footer">
                <div class="box-tools pull-right">
                    <a data-collection="{{ collection_id }}" class="collection-action collection-add btn btn-xs" title="{{ __('Add feature') }}">
                        {{ __('Add feature') }} <i class="fa fa-plus-circle" aria-hidden="true"></i>
                    </a>
                </div>
            </div>
            <!-- /.box-body -->
        </div>
<!-- /.box -->
{#                 {{ include('KaikmediaLettingsModule:Common:form.address.prototype.html.twig', { 'address': form.addresses.vars.prototype }) }}#}
{#        {% for child in form %}
            {{ form_row(child, {'attr': {'class': collection_id ~ ' input-sm my-selector', 'data-coll': collection_id}, 'label_attr': {'class': ' input-sm'}}) }}
        {% endfor %}#}
{#        {{ dump(form) }}#}
    {% endspaceless %}
{% endblock %}

{#
    Subscribers
#}

{% block _settings_hooks_subscribers_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_subscribers_entry_widget %}
    {% spaceless %}
        <fieldset>
            <legend>{{ value.title }}</legend>
            <div class="panel panel-default">
                <div class="panel-heading">
                    {{ __('Global subscriber settings') }}
                    <a class="pull-right" role="button" data-toggle="collapse" href="#global_{{ value.baseName|lower }}" aria-expanded="false" aria-controls="global_{{ value.baseName|lower }}">
                        <i class="fa fa-cog"> </i>
                    </a>
                </div>
                <div class="list-group collapse" id="global_{{ value.baseName|lower }}">
                    {% for name, child in form %}
                        {% if name == 'modules' %}
                        {% else %}
                            <div class="list-group-item list-group-item-warning">
                                {{ form_row(child, {'attr': {'class': 'input-sm' }, 'label_attr': {'class': 'input-sm'}}) }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% if form.children.modules is defined %}
                <div class="panel panel-default">
                    <div class="panel-heading">
                        {{ __('Modules')  }}
                        <a class="pull-right" role="button" data-toggle="collapse" href="#modules_{{ value.baseName|lower }}" aria-expanded="false" aria-controls="modules_{{ value.baseName|lower }}">
                            <i class="fa fa-cog"> </i>
                        </a>
                    </div>
                    <div class="list-group collapse" id="modules_{{ value.baseName|lower }}">
                        {{ form_widget(form.children.modules) }}
                    </div>
                </div>
            {% else %}
            {% endif %}
        </fieldset>
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_subscribers_entry_modules_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_subscribers_entry_modules_entry_widget %}
    {% spaceless %}
        <div class="list-group-item {% if value.enabled %}list-group-item-success{% else %}list-group-item-warning{% endif %} clearfix">
            <span>{{ value.name }}</span>
            {% if form.children.enabled is defined %}
                <div class="pull-right text-right">
                    {{ form_widget(form.children.enabled, {'attr': {'class': 'btn btn-success radio-inline btn-xs' }}) }}
                </div>
            {% else %}
            {% endif %}
        </div>
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_subscribers_entry_modules_entry_areas_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_widget(child) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}

{% block _settings_hooks_subscribers_entry_modules_entry_areas_entry_widget %}
    {% spaceless %}
        {% set binding_id = 'area' ~ random() %}
        <div class="list-group-item {% if value.enabled %}list-group-item-success{% else %}list-group-item-default{% endif %} clearfix">
            <span class="text-info small">{{ __('Area:') }} <strong>{{ value.provider }}</strong></span>
            <div class="pull-right text-right">
                {% if form.children.enabled is defined %}
                    {{ form_widget(form.children.enabled, {'attr': {'class': 'btn btn-primary radio-inline btn-xs' }}) }}
                {% else %}
                {% endif %}
            </div>
            <a class="btn btn-xs pull-right" role="button" data-toggle="collapse" href="#{{ binding_id }}" aria-expanded="false" aria-controls="{{ binding_id }}">
                <i class="fa fa-cog"> </i>
            </a>
            <div id="{{ binding_id }}" class="col-md-12 collapse clearfix">
                <h5>{{ __('Settings for this area') }}</h5>
                {% for child in form %}
                    {{ form_widget(child) }}
                {% endfor %}
            </div>
        </div>
    {% endspaceless %}
{% endblock %}

{% block _settings_form_hooks_subscribers_entry_modules_entry_areas_entry_entry_widget %}
    {% spaceless %}
        {% for child in form %}
            {{ form_row(child, {'attr': {'class': 'input-sm' }, 'label_attr': {'class': 'input-sm'}}) }}
        {% endfor %}
    {% endspaceless %}
{% endblock %}